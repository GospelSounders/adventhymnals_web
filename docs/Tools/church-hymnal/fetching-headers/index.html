<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> GS template fetching headers - AdventHymnals</title>
  <meta name="description" content="[object Object]" />

  <meta name="keywords" content="[object Object]" />
  <meta name="author" content="[object Object]" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link rel="shortcut icon" href="https://dev.site.adventhymnals.org/favicon.ico">
  <link rel="stylesheet" href="https://dev.site.adventhymnals.org/styles/uf_style.css">
  <link rel="stylesheet" href="https://dev.site.adventhymnals.org/styles/cstyle.css">
  <link rel="stylesheet" href="https://dev.site.adventhymnals.org/styles/theme.css">

  

</head>

<body class="searchbox-hidden">
  <div id="fb-root"></div>
  <script async defer crossorigin="anonymous"
    src="https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v10.0&appId=156811091033253&autoLogAppEvents=1"
    nonce="mJ0CLUlq"></script>

  <div class="wrapper">
    <div class="navbar-fixed" id="nav-main">
      <nav class="custom">
        <div class="nav-wrapper" style="background-color: #52372A;">
          <a href="https://dev.site.adventhymnals.org/" class="brand-logo"
            style="padding-left: 2rem; text-transform: uppercase;font-size: 1.4em;">AdventHymnals</a>
          <a href="#" data-activates="mobile-demo" class="button-collapse"><i class="material-icons">menu</i></a>
          <ul class="right hide-on-med-and-down" id="headerLinks">
            <span id="nav-social">
              <li class="fa-stack"><a href="https://github.com/gospelsounders" target="_blank"><i
                    class="fa fa-circle fa-stack-2x"></i><i class="fa fa-github fa-stack-1x"></i></a></li>
            </span>
          </ul>
        </div>
      </nav>
    </div>

    <nav id="sidebar" style="background-color:#8A5E3B; color: #fff;">
      <div id="header-wrapper">
        <div id="header" style="background-color:#8A5E3B !important;;">
          <a id="logo" href="#"><span class="logo-title" style="font-size: 1.4em;"> AdventHymnals</span>
          </a>
          <form class="searchbox" action="https://dev.site.adventhymnals.org/">
            <label for="search-by"><i class="fa fa-search"></i></label>
            <input type="search" search name="search" id="search" value=""
              placeholder="Search">
            <span data-search-clear><i class="fa fa-close"></i></span>
          </form>
          <div id="mobile-nav">
            <a href="https://github.com/gospelsounders" target="_blank">Github</a>
          </div>
        </div>
      </div>


      <div class="scrollbar-inner">
        <div class="highlightable">
          <ul class="topics">

            <li class="dd-item  "
              data-nav-id="https://dev.site.adventhymnals.org/">
              <a href="">
                <i class="fa fa-check read-icon"></i>
                <span></span>
              </a>
              <ul>
              </ul>
            </li>





          </ul>
          <hr />

          <a class="padding" href="#" data-clear-history-toggle><i class="fa fa-fw fa-history"></i> Clear
            History</a><br />

          <section id="footer">
            <p>Built with <a href="http://csycms.csymapp.com">csyms</a> - A Flat File CMS for node</p>
            <p>
            <p>Copyright &copy; 2018 - 2021 <a
                href="http://www.gospelsounders.org">Gospel Sounders</a> </p>
            </p>
          </section>
        </div>
      </div>
    </nav>


    <section id="body">
      <div id="overlay"></div>

      <div class="padding highlightable">
        <a href="#" id="sidebar-toggle" data-sidebar-toggle><i class="fa fa-2x fa-bars"></i></a>
        <div id="top-bar">


          <div id="breadcrumbs" itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
            <a href="/Tools" itemprop="url"><span itemprop="title">Tools</span></a>
            <i class="fa fa-angle-right"></i>
            <a href="/Tools/church-hymnal" itemprop="url"><span itemprop="title">church hymnal tools and resources</span></a>
            <i class="fa fa-angle-right"></i>
            <span itemprop="title">fetching headers</span>
            
            <a class="fb-share-c" target="_blank"
              href="https://www.facebook.com/sharer/sharer.php?u=https://dev.site.adventhymnals.org/Tools/church-hymnal/fetching-headers&amp;src=sdkpreparse"
              style="text-decoration: none; float:right;">
              <i class="a-icon fa fa-share"></i>Share
            </a>
          </div>
          
<div class="row">
  
  <div class="col-sm-9">

    <section class="content">



      <h2>Fetching Headers</h2>
<p>Headers are such details as are defined under the <a href="%7B%7B%7Bcself-%7D%7D%7D/adventhymnals#structure">structure</a> section.</p>
<p>These, which are found in the respective pdfs (<a href="/resources/1941-sda-hymnal-1.pdf">1941 church hymnal pdf</a>, etc), can be scraped from <a href="https://hymnary.org/hymn/CHSD1941/1">hymnary.org</a>. The scripts for doing this are found in the <a href="https://github.com/GospelSounders/adventhymnals/tree/master/tools/headers">tools/headers</a> directory.</p>
<p>Running <code>index.js</code> will create 2 files having header data for both <a href="https://hymnary.org/hymn/CSR1908/1">Christ in Song</a> and <a href="https://hymnary.org/hymn/CHSD1941/1">Church hymnal</a> respectively.</p>
<p>This might be dropped here for reference:</p>
<pre><code class="language-javascript">titleCase  = (str) =&gt; {
  return str.replace(/([A-Z])([A-Z]+)([^A-Z]+)/g, function(match, $1, $2, $3){return $1+$2.toLowerCase() + $3})
}
</code></pre>
<h2>Initial Edits</h2>
<h3>Missing Numbers</h3>
<p>Data for some hymns are missing in the data provided by hymnary. For these to be added, it is required, first, that the missing numbers be identified. This is done by running <code>missingNumbers.js</code> which is also found in the <a href="https://github.com/GospelSounders/adventhymnals/tree/master/tools/headers">tools/headers</a> directory.</p>
<p>Once the list of missing numbers is found, run <code>enterMissinginformation.js</code>, which is found in the same directory, which will guide you through to see that you enter the missing information in the required format to avoid breaking any part of what has been done so far.</p>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>#389 is missing in Christ in Song 1908 Edition</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
<h3>Authors</h3>
<p>To form an index of authors/poets and composers, it is required that the name of a single person appearing in different hymns be consistent in its format. This is not the case with the data we have so far. To be able to fix this, first it is required that all hymns have their authors/poets and composers/arrangers listed. To check if all hymns have these run the following: <code>checkMissing.js</code> and follow the prompts till everything is fixed.</p>
<p>Some important header information is not contained in the data extracted from hymnary. These are obtained from the respective pdfs (<a href="/resources/1941-sda-hymnal-1.pdf">1941 church hymnal pdf</a>, etc)</p>
<h3>Titles and First Lines</h3>
<p><code>sort -o &quot;CHSD1941Title&amp;FirstLines&quot; &quot;CHSD1941Title&amp;FirstLines&quot;</code></p>
<pre><code>(.*)([0-9][0-9][0-9],)\n    $2$1\n
( [_\.]+ )\n  \n
\n([0-9]+)( .*)([0-9]{3})(.*)   \n$3 $2\n$1$4
</code></pre>

     
      <div class="page-meta clearfix">
          <div class="contact-support float-left">
            <span class="glyphicon glyphicon-envelope"></span> Need help? <a href="mailto:editor@gospelsounders.org">Get in touch!</a>
          </div>
        <div class="last-updated float-right">
          Last updated on 22nd Jun 2021  by [object Object]
        </div>
      </div>

    </section>

  </div>
</div>



        </div>
        <div id="navigation">
          <a class="nav nav-prev" href=/Tools/church-hymnal> <i
              class="fa fa-chevron-left"></i></a>

          <a class="nav nav-next" href=/Music-Theory><i
              class="fa fa-chevron-right"></i></a>
        </div>

    </section>


    <div id="content">
      <!-- End of content -->
    </div>
  </div>

  <!-- JavaScript -->
  <script src="https://dev.site.adventhymnals.org/lib/jquery/dist/jquery.min.js"></script>
  <script src="https://dev.site.adventhymnals.org/lib/popper.js/dist/umd/popper.min.js"></script>
  <script src="https://dev.site.adventhymnals.org/lib/bootstrap/dist/js/bootstrap.min.js"></script>
  <script src="https://dev.site.adventhymnals.org/lib/highlightjs/highlight.pack.min.js"></script>
  <script src="https://dev.site.adventhymnals.org/lib/fitvids/fitvids.min.js"></script>
  <script src="https://dev.site.adventhymnals.org/lib/masonry-layout/dist/masonry.pkgd.min.js"></script>
  <script src="https://dev.site.adventhymnals.org/scripts/ghostdown.js"></script>
  <script src="https://dev.site.adventhymnals.org/scripts/raneto.js"></script>
  <script src="https://dev.site.adventhymnals.org/scripts/uf.js"></script>

  <!-- Popper.JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"
    integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous">
    </script>

  <script type="text/javascript">
    $(document).ready(function () {
      alert(config)
      // $('.fb-share-c').attr('href', 'hrf..')
      $('#sidebarCollapse').on('click', function () {
        $('#sidebar').toggleClass('active');
        $('body').toggleClass('sidebar-hidden');
        $(this).toggleClass('active');
      });
      $('#sidebarCollapse').on('click', function () {
        $('body').toggleClass('sidebar-hidden');
      });
      $('[data-search-clear]').on('click', function () {
        $('[search]').val('').trigger('input');
        sessionStorage.removeItem('search-input');
      });
      $('#data-search-clear').on('click', function () {
        $('[search]').val('').trigger('input');
        sessionStorage.removeItem('search-input');
      });

      $('.tabs-wrapper > ul a[rel="tab"]').click(function (event) {
        event.preventDefault();
        $(this).parent().siblings().removeClass("current");
        $(this).parent().addClass("current");
        var tab = $(this).attr("href");
        $(tab).siblings().css('display', 'none');
        $(tab).fadeIn()
      })
    });

  </script>

</body>

</html>